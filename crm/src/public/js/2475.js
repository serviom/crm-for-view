"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2475,279,9458,429,9660,6142,9234,5635],{2785:(e,t,r)=>{r.d(t,{Z:()=>n});const n={methods:{applyPhoneMask:function(e){var t=0;return e?"+## (###) ###-####".replace(/#/g,(function(){return e[t++]})):""}}}},7582:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(3645),i=r.n(n)()((function(e){return e[1]}));i.push([e.id,".v-btn[data-v-6b826798]{min-width:150px!important}",""]);const o=i},8332:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(3645),i=r.n(n)()((function(e){return e[1]}));i.push([e.id,".controls[data-v-6026e092]{min-width:100px;width:100px}.alert-phone[data-v-6026e092]{font-size:14px;padding:5px 10px}.table-phone-number[data-v-6026e092]{min-width:220px}",""]);const o=i},7995:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(3645),i=r.n(n)()((function(e){return e[1]}));i.push([e.id,".avatar-image[data-v-56772902]{max-width:100%}.avatar-image[data-v-56772902],.no-avatar[data-v-56772902]{border:1px solid grey;border-radius:100%;width:150px}.no-avatar[data-v-56772902]{height:150px}.delete-icon-wrapper[data-v-56772902]{bottom:0;left:0;position:absolute;right:0;top:0}",""]);const o=i},279:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});const n={props:["headers","items","search","itemsPerPage","footerProps","options","serverItemsLength"],data:function(){return{total:0,innerOptions:this.options}},watch:{innerOptions:{handler:function(){this.$emit("update:options",this.innerOptions)},deep:!0},serverItemsLength:function(e){this.total=e}}};const i=(0,r(1900).Z)(n,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-data-table",{staticClass:"elevation-1 set-tbody-d-table-row",attrs:{headers:e.headers,items:e.items,search:e.search,"items-per-page":e.itemsPerPage,"footer-props":e.footerProps,options:e.innerOptions,"server-items-length":e.total,"mobile-breakpoint":null},on:{"update:options":function(t){e.innerOptions=t}},scopedSlots:e._u([{key:"no-data",fn:function(){return[e._t("no-data")]},proxy:!0},{key:"no-results",fn:function(){return[e._t("no-results")]},proxy:!0},{key:"item",fn:function(t){var r=t.item,n=t.index;return[e._t("item",null,{item:r,index:n})]}}],null,!0)})}),[],!1,null,"75ca4795",null).exports},9458:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});const n={props:["isEnableNewItemBtn","newItemBtnLink","newItemBtnTitle","isShowDeleteDialog","isShowDeletionSpinner","deleteItemCallback","deleteItemTitle","itemToDelete","itemToDeleteProperty"],components:{CrmDialog:r(429).default},methods:{closeDialog:function(){this.$emit("closeDialog")}}};const i=(0,r(1900).Z)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pa-3"},[e.isEnableNewItemBtn?r("router-link",{attrs:{to:e.newItemBtnLink}},[r("v-btn",{staticClass:"mb-3",attrs:{color:"primary"}},[r("v-icon",[e._v("mdi-plus")]),e._v(e._s(e.newItemBtnTitle)+"\n        ")],1)],1):e._e(),e._v(" "),e._t("filters"),e._v(" "),e._t("table"),e._v(" "),r("crm-dialog",{attrs:{isShowDialog:e.isShowDeleteDialog,isShowSpinner:e.isShowDeletionSpinner,isAction:!0,maxWidth:"600",color:"warning",actionBtnText:"Видалити",defaultBtnText:"",cancelBtnText:""},on:{successEvent:e.deleteItemCallback,closeDialog:e.closeDialog},scopedSlots:e._u([{key:"info-title",fn:function(){return[e._v("\n            Увага!\n        ")]},proxy:!0},{key:"info-text",fn:function(){return[e._v("\n            Ви дійсно хочете видалити "+e._s(e.deleteItemTitle)+"\n            "),e.itemToDelete&&e.itemToDeleteProperty?r("b",[e._v(e._s(e.itemToDelete[e.itemToDeleteProperty]))]):e._e(),e._v("?\n        ")]},proxy:!0}])})],2)}),[],!1,null,"7f332e09",null).exports},429:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});const n={props:["maxWidth","color","isShowDialog","isShowSpinner","isAction","isCancelBtn","actionBtnText","defaultBtnText","cancelBtnText"],data:function(){return{isShow:!1}},watch:{isShowDialog:function(e){this.isShow=e},isShow:function(e){e||this.$emit("closeDialog")}},methods:{successEvent:function(){this.$emit("successEvent")},closeDialog:function(){this.$emit("closeDialog")}}};var i=r(3379),o=r.n(i),a=r(7582),s={insert:"head",singleton:!1};o()(a.Z,s);a.Z.locals;const l=(0,r(1900).Z)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":e.maxWidth||600},scopedSlots:e._u([{key:"default",fn:function(t){return[r("v-card",{staticClass:"pa-0 pb-6"},[r("v-toolbar",{staticClass:"text-h4",attrs:{color:e.color,dark:""}},[e._t("info-title")],2),e._v(" "),r("v-card-text",[r("div",{staticClass:"pt-5"},[e._t("info-text")],2)]),e._v(" "),r("v-card-actions",{staticClass:"justify-center"},[e.isAction?r("v-btn",{staticClass:"text-white mr-4",attrs:{disabled:e.isShowSpinner,color:e.color},on:{click:e.successEvent}},[e.isShowSpinner?r("span",[r("v-progress-circular",{attrs:{size:25,indeterminate:"",color:"grey"}})],1):r("span",[e._v(e._s(e.actionBtnText))])]):r("v-btn",{staticClass:"text-white mr-4",attrs:{color:e.color},on:{click:e.successEvent}},[r("span",[e._v(e._s(e.defaultBtnText))])]),e._v(" "),null===e.isCancelBtn||e.isCancelBtn?r("v-btn",{on:{click:e.closeDialog}},[e._v("\n                    "+e._s(e.cancelBtnText||"Скасувати")+"\n                ")]):e._e()],1)],1)]}}],null,!0),model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}})}),[],!1,null,"6b826798",null).exports},9660:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});const n={name:"MyObjects"};const i=(0,r(1900).Z)(n,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("Лог дій буде доданий пізніше")])}),[],!1,null,"56a6165c",null).exports},6142:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var n=r(279),i=r(9458),o=r(429),a=(r(6486),r(629));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c={mixins:[r(2785).Z],components:{CrmDefaultListingPage:i.default,CrmDataTablePagination:n.default,CrmDialog:o.default},data:function(){return{isShowTableSpinner:!1,isShowDeleteDialog:!1,isShowDeletionSpinner:!1,headers:[{text:"Ім'я",align:"start",sortable:!0,value:"fio"},{text:"Телефони",align:"start",sortable:!1,value:null},{text:"Користувач",align:"start",sortable:!0,value:"user"},{text:"Дата створення",align:"start",sortable:!0,value:"created_at"},{text:"",align:"start",sortable:!1,value:null}],itemsPerPageOptions:[10,20,30,40,50],itemsPerPageText:"Рядків на сторіку",itemsPerPageAllText:"Всі",search:null,filterUser:this.$auth.user().id,filterClient:null,filterPhone:null,itemToDelete:null,totalClients:0,options:{}}},computed:l(l({},(0,a.Se)({getClientsList:"ClientsModule/getClients",getUsersList:"UsersModule/getUsers",getProfile:"ProfileModule/getProfile",getIsProfileLoaded:"ProfileModule/getIsProfileLoaded"})),{},{getUsersListForFilter:function(){var e=[];return this.getIsProfileLoaded?e.push({name:this.getProfile.name,id:this.getProfile.id}):e.push({name:this.$auth.user().name,id:this.$auth.user().id}),e}}),watch:{options:{handler:function(e,t){0!==Object.keys(e).length&&this.getClients()},deep:!0}},mounted:function(){},methods:l(l({},(0,a.nv)({setUsers:"UsersModule/setUsers",setClients:"ClientsModule/setClients",incrementSpinnerCounter:"SpinnerModule/incrementSpinnerCounter",decrementSpinnerCounter:"SpinnerModule/decrementSpinnerCounter"})),{},{applyFilters:function(){this.options.page=1,this.getClients()},resetFilters:function(){this.filterClient=null,this.filterPhone=null,this.options.page=1,this.getClients()},getClients:function(){var e=this;this.incrementSpinnerCounter();var t=this.options,r=t.sortBy,n=t.sortDesc,i=t.page,o=t.itemsPerPage;this.axios.get("clients?",{params:{sortBy:r.length?r[0]:null,sortDesc:n.length?n[0]?1:0:null,page:i,itemsPerPage:o,filterUser:this.filterUser,filterClient:this.filterClient,filterPhone:this.filterPhone}}).then((function(t){e.setClients(t.data.data),e.totalClients=t.data.count})).catch((function(e){})).then((function(){e.decrementSpinnerCounter()}))},showDeleteDialog:function(e){this.itemToDelete=e,this.isShowDeleteDialog=!0},deleteItemCallback:function(){var e=this;this.isShowDeletionSpinner=!0,this.axios.delete("clients/".concat(this.itemToDelete.id)).then((function(t){var r=t.data.message;e.eventHub.$emit("doShowSnackbarEvent",!0,r,"success",5e3)})).catch((function(t){var r=t.data.message||"Щось погане трапилось :(";e.eventHub.$emit("doShowSnackbarEvent",!0,r,"warning",5e3)})).then((function(){e.isShowDeletionSpinner=!1,e.isShowDeleteDialog=!1,e.getClients()}))}})};var d=r(3379),f=r.n(d),p=r(8332),v={insert:"head",singleton:!1};f()(p.Z,v);p.Z.locals;const m=(0,r(1900).Z)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("crm-default-listing-page",{staticClass:"ma-n3",attrs:{isEnableNewItemBtn:!1,isShowDeleteDialog:e.isShowDeleteDialog,isShowDeletionSpinner:e.isShowDeletionSpinner,deleteItemCallback:e.deleteItemCallback,deleteItemTitle:"клієнта",itemToDelete:e.itemToDelete,itemToDeleteProperty:"fio"},on:{closeDialog:function(t){e.isShowDeleteDialog=!1}},scopedSlots:e._u([{key:"filters",fn:function(){return[r("form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.applyFilters.apply(null,arguments)}}},[r("v-container",{attrs:{fluid:""}},[r("v-row",{staticClass:"justify-end"},[r("v-col",{staticClass:"mb-6",attrs:{cols:"12",sm:"3"}},[r("v-text-field",{attrs:{label:"Клієнт","hide-details":""},model:{value:e.filterClient,callback:function(t){e.filterClient=t},expression:"filterClient"}})],1),e._v(" "),r("v-col",{staticClass:"mb-6",attrs:{cols:"12",sm:"3"}},[r("v-autocomplete",{attrs:{items:e.getUsersListForFilter,"item-text":"name","item-value":"id",label:"Користувач",disabled:!0},model:{value:e.filterUser,callback:function(t){e.filterUser=t},expression:"filterUser"}})],1),e._v(" "),r("v-col",{staticClass:"mb-6",attrs:{cols:"12",sm:"3"}},[r("v-text-field",{attrs:{label:"Телефон","hide-details":""},model:{value:e.filterPhone,callback:function(t){e.filterPhone=t},expression:"filterPhone"}})],1),e._v(" "),r("v-col",{staticClass:"mb-6 d-flex align-items-center",attrs:{cols:"12",sm:"3"}},[r("v-btn",{staticClass:"mr-3",attrs:{color:"success",type:"submit"}},[r("v-icon",[e._v("mdi-magnify")])],1),e._v(" "),r("v-btn",{attrs:{color:"light"},on:{click:e.resetFilters}},[r("v-icon",[e._v("mdi-close-thick")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"table",fn:function(){return[r("crm-data-table-pagination",{staticClass:"set-tbody-d-table-row",attrs:{headers:e.headers,items:e.getClientsList,"items-per-page":10,options:e.options,"server-items-length":e.totalClients,"footer-props":{"items-per-page-options":e.itemsPerPageOptions,"items-per-page-text":e.itemsPerPageText,"items-per-page-all-text":e.itemsPerPageAllText}},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"no-data",fn:function(){return[e.isShowTableSpinner?r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}}):r("span",[e._v("Немає клієнтів")])]},proxy:!0},{key:"no-results",fn:function(){return[r("span",[e._v("Немає результатів пошуку")])]},proxy:!0},{key:"item",fn:function(t){var n=t.item;t.index;return[r("tr",[r("td",[e._v(e._s(n.fio))]),e._v(" "),r("td",{staticClass:"table-phone-number pt-3"},e._l(n.phoneNumbers,(function(t){return r("a",{key:t.id,staticClass:"text-white",attrs:{href:"tel:"+e.applyPhoneMask(t.phoneNumber)}},[r("v-alert",{staticClass:"d-inline-block alert-phone m-0 mr-3 mb-3",attrs:{shaped:"",dark:"",color:"success"}},[e._v("\n                                "+e._s(e.applyPhoneMask(t.phoneNumber))+"\n                            ")])],1)})),0),e._v(" "),r("td",[n.user?r("router-link",{attrs:{to:{name:"users.update",params:{id:n.user.id}}}},[e._v("\n                            "+e._s(n.user.name)+"\n                        ")]):r("span",[e._v("-")])],1),e._v(" "),r("td",[e._v("\n                        "+e._s(n.created_at)+"\n                    ")]),e._v(" "),r("td",{staticClass:"controls"},[r("div",{staticClass:"d-none d-md-flex"},[e.$auth.check(["SuperAdmin","clients.update"],"permissions")&&e.$auth.check(["SuperAdmin","clients.view"],"permissions")?r("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,o=t.attrs;return[r("router-link",{attrs:{to:{name:"clients.update",params:{id:n.id}}}},[r("span",e._g(e._b({staticClass:"control-edit mr-3 cursor-pointer"},"span",o,!1),i),[r("v-icon",{attrs:{color:"success"}},[e._v("mdi-pencil")])],1)])]}}],null,!0)},[e._v(" "),r("span",[e._v("Редагувати")])]):e._e(),e._v(" "),e.$auth.check(["SuperAdmin","clients.delete"],"permissions")?r("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,o=t.attrs;return[r("span",e._g(e._b({staticClass:"control-delete cursor-pointer",on:{click:function(t){return e.showDeleteDialog(n)}}},"span",o,!1),i),[r("v-icon",{attrs:{color:"red"}},[e._v("mdi-delete")])],1)]}}],null,!0)},[e._v(" "),r("span",[e._v("Видалити")])]):e._e()],1),e._v(" "),r("div",{staticClass:"d-flex d-md-none"},[e.$auth.check(["SuperAdmin","clients.update"],"permissions")&&e.$auth.check(["SuperAdmin","clients.view"],"permissions")?r("router-link",{attrs:{to:{name:"clients.update",params:{id:n.id}}}},[r("span",{staticClass:"control-edit mr-3 cursor-pointer"},[r("v-icon",{attrs:{color:"success"}},[e._v("mdi-pencil")])],1)]):e._e(),e._v(" "),e.$auth.check(["SuperAdmin","clients.delete"],"permissions")?r("span",{staticClass:"control-delete cursor-pointer",on:{click:function(t){return e.showDeleteDialog(n)}}},[r("v-icon",{attrs:{color:"red"}},[e._v("mdi-delete")])],1):e._e()],1)])])]}}])})]},proxy:!0}])})}),[],!1,null,"6026e092",null).exports},9234:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});const n={name:"MyObjects"};const i=(0,r(1900).Z)(n,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("Мої об'єкти будуть додані пізніше")])}),[],!1,null,"34a36be0",null).exports},5635:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var n=r(429),i=r(379),o=r(629),a=r(6486),s=r(7817);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d={components:{CrmDialog:n.default},validations:{editProfileModel:{name:{required:i.C1,maxLength:(0,i.BS)(100)},email:{required:i.C1,maxLength:(0,i.BS)(100),email:i.Do},phoneNumber:{maxLength:(0,i.BS)(100)},password:{minLength:(0,i.Ei)(8),maxLength:(0,i.BS)(100)}}},data:function(){return{isShowDeleteAvatarDialog:!1,isShowDeleteAvatarSpinner:!1,isShowDeleteBtn:!1,isShowEditForm:!1,editProfileModel:(0,a.cloneDeep)(s.Z),responseErrors:{},isShowSpinner:!1,isShowEye:!1}},computed:u(u({},(0,o.Se)({getProfile:"ProfileModule/getProfile"})),{},{nameErrors:function(){var e=[];return this.$v.editProfileModel.name.$dirty?(!this.$v.editProfileModel.name.maxLength&&e.push("Максимальна довжина 100 символів"),!this.$v.editProfileModel.name.required&&e.push("Поле користувач обов'язкове"),e):e},emailErrors:function(){var e=[];return this.$v.editProfileModel.email.$dirty?(!this.$v.editProfileModel.email.maxLength&&e.push("Максимальна довжина 100 символів"),!this.$v.editProfileModel.email.required&&e.push("Поле email обов'язкове"),!this.$v.editProfileModel.email.email&&e.push("Введіть валідний email"),this.responseErrors.email&&(e=e.concat(this.responseErrors.email)),e):e},phoneNumberErrors:function(){var e=[];return this.$v.editProfileModel.phoneNumber.$dirty?(!this.$v.editProfileModel.phoneNumber.maxLength&&e.push("Максимальна довжина 100 символів"),this.responseErrors.phoneNumber&&(e=e.concat(this.responseErrors.phoneNumber)),e):e},passwordErrors:function(){var e=[];return this.$v.editProfileModel.password.$dirty?(!this.$v.editProfileModel.password.minLength&&e.push("Мінімальна довжина 8 символів"),!this.$v.editProfileModel.password.maxLength&&e.push("Максимальна довжина 100 символів"),e):e}}),methods:u(u({},(0,o.nv)({setProfile:"ProfileModule/setProfile",incrementSpinnerCounter:"SpinnerModule/incrementSpinnerCounter",decrementSpinnerCounter:"SpinnerModule/decrementSpinnerCounter"})),{},{closeDeleteAvatarDialog:function(){this.isShowDeleteAvatarDialog=!1},showDeleteAvatarDialog:function(){this.isShowDeleteAvatarDialog=!0},deleteAvatar:function(){var e=this;this.isShowDeleteAvatarSpinner=!0,this.axios.delete("profile/avatar").then((function(t){var r=t.data.message,n=t.data.data;e.setProfile(n),e.eventHub.$emit("doShowSnackbarEvent",!0,r,"success",5e3)})).catch((function(e){})).then((function(){e.closeDeleteAvatarDialog(),e.isShowDeleteAvatarSpinner=!1}))},switchEditForm:function(){this.isShowEditForm=!this.isShowEditForm,this.editProfileModel=(0,a.cloneDeep)(this.getProfile),this.editProfileModel.avatar=null,this.$v.$reset()},saveProfile:function(){var e=this;if(this.$v.$touch(),!this.$v.$invalid){this.incrementSpinnerCounter();var t=new FormData;t.append("avatar",this.editProfileModel.avatar),t.append("name",this.editProfileModel.name),t.append("email",this.editProfileModel.email),t.append("phoneNumber",this.editProfileModel.phoneNumber),t.append("password",this.editProfileModel.password),this.axios.post("profile",t).then((function(t){e.editProfileModel.avatar=null;var r=t.data.message,n=t.data.data;e.responseErrors={},e.setProfile(n),e.eventHub.$emit("doShowSnackbarEvent",!0,r,"success",5e3)})).catch((function(t){422===t.status&&(e.responseErrors=t.data.errors)})).then((function(){e.decrementSpinnerCounter()}))}}})};var f=r(3379),p=r.n(f),v=r(7995),m={insert:"head",singleton:!1};p()(v.Z,m);v.Z.locals;const h=(0,r(1900).Z)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[r("v-row",[r("v-col",{attrs:{cols:"12",md:"4"}},[r("div",{staticClass:"d-flex flex-column align-items-center"},[r("div",{staticClass:"position-relative my-3",on:{mouseenter:function(t){e.isShowDeleteBtn=!0},mouseleave:function(t){e.isShowDeleteBtn=!1}}},[e.getProfile.avatar?r("v-img",{staticClass:"avatar-image rounded-circle",attrs:{"aspect-ratio":1,src:e.getProfile.avatar}}):r("v-icon",{staticClass:"no-avatar",attrs:{size:120}},[e._v("mdi-account")]),e._v(" "),e.isShowDeleteBtn&&e.getProfile.avatar?r("div",{staticClass:"delete-icon-wrapper d-flex justify-center align-items-center",on:{click:function(t){return t.stopPropagation(),e.showDeleteAvatarDialog.apply(null,arguments)}}},[r("v-card",{staticClass:"delete-icon cursor-pointer rounded-circle pa-3"},[r("v-icon",{attrs:{size:30,color:"warning"}},[e._v("mdi-delete")])],1)],1):e._e()],1),e._v(" "),r("v-simple-table",{staticClass:"w-100",scopedSlots:e._u([{key:"default",fn:function(){return[r("tbody",[r("tr",[r("td",{staticClass:"text-center py-3",attrs:{colspan:"2"}},[r("span",{staticClass:"text-h5 text-break"},[e._v(e._s(e.getProfile.name))]),r("br"),e._v(" "),r("span",[e._v(e._s(e.getProfile.roleName))])])]),e._v(" "),r("tr",[r("td",[r("b",[e._v("Телефон")])]),e._v(" "),r("td",{staticClass:"text-right"},[e._v(e._s(e.getProfile.phoneNumber))])]),e._v(" "),r("tr",[r("td",[r("b",[e._v("E-mail")])]),e._v(" "),r("td",{staticClass:"text-right"},[e._v(e._s(e.getProfile.email))])])])]},proxy:!0}])}),e._v(" "),r("v-btn",{staticClass:"w-100",attrs:{color:"primary"},on:{click:e.switchEditForm}},[e._v("\n                    Редагувати\n                ")])],1)]),e._v(" "),e.isShowEditForm?r("v-col",{attrs:{cols:"12",md:"8"}},[r("form",{on:{submit:function(t){return t.preventDefault(),e.saveProfile.apply(null,arguments)}}},[r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{label:"ФІО","error-messages":e.nameErrors},on:{input:function(t){return e.$v.editProfileModel.name.$touch()},blur:function(t){return e.$v.editProfileModel.name.$touch()}},model:{value:e.editProfileModel.name,callback:function(t){e.$set(e.editProfileModel,"name",t)},expression:"editProfileModel.name"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"+## (###) ###-####",expression:"'+## (###) ###-####'"}],attrs:{label:"Телефон","error-messages":e.phoneNumberErrors},on:{input:function(t){return e.$v.editProfileModel.phoneNumber.$touch()},blur:function(t){return e.$v.editProfileModel.phoneNumber.$touch()}},model:{value:e.editProfileModel.phoneNumber,callback:function(t){e.$set(e.editProfileModel,"phoneNumber",t)},expression:"editProfileModel.phoneNumber"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{label:"E-mail","error-messages":e.emailErrors},on:{input:function(t){return e.$v.editProfileModel.email.$touch()},blur:function(t){return e.$v.editProfileModel.email.$touch()}},model:{value:e.editProfileModel.email,callback:function(t){e.$set(e.editProfileModel,"email",t)},expression:"editProfileModel.email"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-file-input",{attrs:{accept:"image/png, image/jpeg, image/bmp","prepend-icon":"mdi-camera",label:"Аватар"},model:{value:e.editProfileModel.avatar,callback:function(t){e.$set(e.editProfileModel,"avatar",t)},expression:"editProfileModel.avatar"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{type:"password",label:"Новий пароль",autocomplete:"new-password","error-messages":e.passwordErrors,"append-icon":e.isShowEye?"mdi-eye":"mdi-eye-off",type:e.isShowEye?"text":"password"},on:{input:function(t){return e.$v.editProfileModel.password.$touch()},blur:function(t){return e.$v.editProfileModel.password.$touch()},"click:append":function(t){e.isShowEye=!e.isShowEye}},model:{value:e.editProfileModel.password,callback:function(t){e.$set(e.editProfileModel,"password",t)},expression:"editProfileModel.password"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12"}},[r("v-btn",{staticClass:"mr-3",attrs:{color:"primary",type:"submit"}},[e._v("\n                                Зберегти\n                            ")]),e._v(" "),r("v-btn",{attrs:{color:"secondary",type:"submit"},on:{click:function(t){e.isShowEditForm=!1}}},[e._v("\n                                Скасувати\n                            ")])],1)],1)],1)],1)]):e._e()],1),e._v(" "),r("crm-dialog",{attrs:{isShowDialog:e.isShowDeleteAvatarDialog,isShowSpinner:e.isShowDeleteAvatarSpinner,isAction:!0,maxWidth:"600",color:"warning",actionBtnText:"Видалити",defaultBtnText:"",cancelBtnText:""},on:{successEvent:e.deleteAvatar,closeDialog:e.closeDeleteAvatarDialog},scopedSlots:e._u([{key:"info-title",fn:function(){return[e._v("\n            Увага!\n        ")]},proxy:!0},{key:"info-text",fn:function(){return[e._v("\n            Ви дійсно хочете видалити ваш аватар?\n        ")]},proxy:!0}])})],1)}),[],!1,null,"56772902",null).exports},2475:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var n=r(5635),i=r(9234),o=r(6142),a=r(9660),s=r(6486);const l={components:{MyProfile:n.default,MyObjects:i.default,MyClients:o.default,MyActions:a.default},data:function(){return{tab:null,tabsIndexes:{profile:0,objects:1,clients:2,actions:3}}},watch:{$route:function(){this.$route.query.tab?this.tab=this.tabsIndexes[this.$route.query.tab]:this.tab=0},tab:function(){this.changedTab()}},mounted:function(){this.$route.query.tab&&(this.tab=this.tabsIndexes[this.$route.query.tab])},methods:{changedTab:function(){var e=this,t=Object.assign({},this.$route.query),r=(0,s.filter)(Object.keys(this.tabsIndexes),(function(t){return e.tabsIndexes[t]===e.tab}))[0];t.tab!==r&&(t.tab=r,this.$router.replace({query:t}).catch((function(){})))}}};const u=(0,r(1900).Z)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12"}},[r("v-tabs",{attrs:{"background-color":"transparent","mobile-breakpoint":null},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab",[e._v("\n                    Мій профіль\n                ")]),e._v(" "),r("v-tab",[e._v("\n                    Об'єкти\n                ")]),e._v(" "),r("v-tab",{directives:[{name:"show",rawName:"v-show",value:e.$auth.check(["SuperAdmin","clients.viewAny"],"permissions"),expression:"$auth.check(['SuperAdmin', 'clients.viewAny'] ,'permissions')"}]},[e._v("\n                    Клієнти\n                ")]),e._v(" "),r("v-tab",[e._v("\n                    Лог дій\n                ")])],1),e._v(" "),r("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("my-profile")],1)],1),e._v(" "),r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("my-objects")],1)],1),e._v(" "),r("v-tab-item",[r("v-card",{directives:[{name:"show",rawName:"v-show",value:e.$auth.check(["SuperAdmin","clients.viewAny"],"permissions"),expression:"$auth.check(['SuperAdmin', 'clients.viewAny'] ,'permissions')"}]},[r("my-clients")],1)],1),e._v(" "),r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("my-actions")],1)],1)],1)],1)],1)],1)}),[],!1,null,"60c7f00a",null).exports},6408:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(6681).regex)("alpha",/^[a-zA-Z]*$/);t.default=n},6195:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(6681).regex)("alphaNum",/^[a-zA-Z0-9]*$/);t.default=n},5573:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6681);t.default=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.withParams)({type:"and"},(function(){for(var e=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.length>0&&t.reduce((function(t,r){return t&&r.apply(e,n)}),!0)}))}},7884:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6681);t.default=function(e,t){return(0,n.withParams)({type:"between",min:e,max:t},(function(r){return!(0,n.req)(r)||(!/\s/.test(r)||r instanceof Date)&&+e<=+r&&+t>=+r}))}},6681:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"withParams",{enumerable:!0,get:function(){return i.default}}),t.regex=t.ref=t.len=t.req=void 0;var n,i=(n=r(8085))&&n.__esModule?n:{default:n};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var a=function(e){if(Array.isArray(e))return!!e.length;if(null==e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===o(e)){for(var t in e)return!0;return!1}return!!String(e).length};t.req=a;t.len=function(e){return Array.isArray(e)?e.length:"object"===o(e)?Object.keys(e).length:String(e).length};t.ref=function(e,t,r){return"function"==typeof e?e.call(t,r):r[e]};t.regex=function(e,t){return(0,i.default)({type:e},(function(e){return!a(e)||t.test(e)}))}},4078:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(6681).regex)("decimal",/^[-]?\d*(\.\d+)?$/);t.default=n},8107:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(6681).regex)("email",/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/);t.default=n},379:(e,t,r)=>{Object.defineProperty(t,"Do",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"BS",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Ei",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"C1",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"PW",{enumerable:!0,get:function(){return P.default}});var n=S(r(6408)),i=S(r(6195)),o=S(r(5669)),a=S(r(7884)),s=S(r(8107)),l=S(r(9103)),u=S(r(7340)),c=S(r(5287)),d=S(r(3091)),f=S(r(2419)),p=S(r(2941)),v=S(r(8300)),m=S(r(918)),h=S(r(3213)),b=S(r(5832)),g=S(r(5573)),y=S(r(2500)),_=S(r(2628)),P=S(r(301)),w=S(r(6673)),x=S(r(4078));function S(e){return e&&e.__esModule?e:{default:e}}(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e})(r(6681))},6673:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(6681).regex)("integer",/(^[0-9]*$)|(^-[0-9]+$)/);t.default=n},9103:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6681),i=(0,n.withParams)({type:"ipAddress"},(function(e){if(!(0,n.req)(e))return!0;if("string"!=typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(o)}));t.default=i;var o=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},7340:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6681);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,n.withParams)({type:"macAddress"},(function(t){if(!(0,n.req)(t))return!0;if("string"!=typeof t)return!1;var r="string"==typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==r&&(6===r.length||8===r.length)&&r.every(i)}))};var i=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},5287:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6681);t.default=function(e){return(0,n.withParams)({type:"maxLength",max:e},(function(t){return!(0,n.req)(t)||(0,n.len)(t)<=e}))}},301:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6681);t.default=function(e){return(0,n.withParams)({type:"maxValue",max:e},(function(t){return!(0,n.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e}))}},3091:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6681);t.default=function(e){return(0,n.withParams)({type:"minLength",min:e},(function(t){return!(0,n.req)(t)||(0,n.len)(t)>=e}))}},2628:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6681);t.default=function(e){return(0,n.withParams)({type:"minValue",min:e},(function(t){return!(0,n.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e}))}},2500:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6681);t.default=function(e){return(0,n.withParams)({type:"not"},(function(t,r){return!(0,n.req)(t)||!e.call(this,t,r)}))}},5669:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(6681).regex)("numeric",/^[0-9]*$/);t.default=n},5832:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6681);t.default=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.withParams)({type:"or"},(function(){for(var e=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.length>0&&t.reduce((function(t,r){return t||r.apply(e,n)}),!1)}))}},2419:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6681),i=(0,n.withParams)({type:"required"},(function(e){return"string"==typeof e?(0,n.req)(e.trim()):(0,n.req)(e)}));t.default=i},2941:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6681);t.default=function(e){return(0,n.withParams)({type:"requiredIf",prop:e},(function(t,r){return!(0,n.ref)(e,this,r)||(0,n.req)(t)}))}},8300:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6681);t.default=function(e){return(0,n.withParams)({type:"requiredUnless",prop:e},(function(t,r){return!!(0,n.ref)(e,this,r)||(0,n.req)(t)}))}},918:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6681);t.default=function(e){return(0,n.withParams)({type:"sameAs",eq:e},(function(t,r){return t===(0,n.ref)(e,this,r)}))}},3213:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(6681).regex)("url",/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i);t.default=n},8085:(e,t,r)=>{var n=r(4155);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i="web"===n.env.BUILD?r(16).R:r(8413).withParams;t.default=i},16:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.R=void 0;var i="undefined"!=typeof window?window:void 0!==r.g?r.g:{},o=i.vuelidate?i.vuelidate.withParams:function(e,t){return"object"===n(e)&&void 0!==t?t:e((function(){}))};t.R=o}}]);